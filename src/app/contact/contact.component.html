<div class="container">
  <h1 class="contact_form_header">Contact Form</h1>

  <form autocomplete="off" spellcheck="false" #contactForm="ngForm" class="contactForm">

    <div class="form-group">
      <label for="firstName">Firstname</label>
      <input type="text" class="form-control" id="firstName" name="firstName" 
        [(ngModel)]='contactCustomer.firstName' required
        minlength="3" #firstName="ngModel">
      <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)" class="alert alert-danger">
        <div *ngIf="firstName.errors.required">
          Firstname is required
        </div>
        <div *ngIf="firstName.errors.minlength">
          Firstname must be at least 4 characters long.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Lastname</label>
      <input type="text" class="form-control" id="lastName" [(ngModel)]='contactCustomer.lastName' required minlength="3" name="lastName"
        #lastName="ngModel">
      <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)" class="alert alert-danger">
        <div *ngIf="lastName.errors.required">
          Lastname is required
        </div>
        <div *ngIf="lastName.errors.minlength">
          Lastname must be at least 4 characters long.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" class="form-control" id="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" required minlength="4"
        [(ngModel)]='contactCustomer.email' name="email" #email="ngModel">
      <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
        <div *ngIf="email.errors.required">
          Email is required
        </div>
        <div *ngIf="email.errors.minlength">
          Email must be at least 4 characters long.
        </div>
        <div *ngIf="email.errors.pattern">
          Please provide a valid email address.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="country">Country</label>
      <input type="text" class="form-control" id="country" [(ngModel)]='contactCustomer.country' required minlength="2" #country="ngModel"
        name="country">
      <div *ngIf="country.invalid && (country.dirty || country.touched)" class="alert alert-danger">
        <div *ngIf="country.errors.required">
          Country is required
        </div>
        <div *ngIf="country.errors.minlength">
          Country must be at least 4 characters long.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="phoneNumber">Phone Number</label>
      <input type="text" class="form-control" id="phoneNumber" pattern="[0-9]+" [(ngModel)]='contactCustomer.phoneNumber' required
        minlength="4" #phoneNumber="ngModel" name="phoneNumber">
      <div *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)" class="alert alert-danger">
        <div *ngIf="phoneNumber.errors.required">
          Phone Number is required
        </div>
        <div *ngIf="phoneNumber.errors.minlength">
          Phone Number must be at least 4 characters long.
        </div>
        <div *ngIf="phoneNumber.errors.pattern">
          Please provide a valid phone number.
        </div>
      </div>
    </div>

    <label for="formGroupTextArea">Your Message</label>
    <div class="form-group">
      <textarea [(ngModel)]='contactCustomer.message' name="message" required minlength="10" maxlength="344324" rows="5" cols="120"></textarea>
    </div>

    <button type="button" [disabled]="contactForm.invalid" (click)="onSubmit(form)" class="btn btn-success">Submit</button>

  </form>

  <div class="modal submitted-message" *ngIf="showSuccessMessage">
    <div class="col-2"></div>
    <div class="row" style="display: block">
      <p>You've sent your message</p>
    </div>
  </div>

  <div class="modal error-message" *ngIf='error'>
    <div class="col-2"></div>
    <div class="row" style="display: block">
      <p>Firstname already taken!</p>
    </div>
    <button type="button" class="btn btn-primary" (click)='closeAlert()'>
      <span>
        <i class="fa fa-times"></i>
      </span>
    </button>
  </div>

</div>